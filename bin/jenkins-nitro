#!/usr/bin/env ruby

if ARGV.size != 3
  puts "Usage: jenkins-nitro <jenkins-job-url> <fast_build_number> <slow_build_number>"
  puts "  Ex.: jenkins-nitro https://jenkins.example.com/job/foobar 120 158"
  exit 0
end

$LOAD_PATH.unshift(File.join(File.dirname(__FILE__), '..', 'lib'))
require 'jenkins_nitro/jenkins_nitro'

diff = JenkinsNitro.compare(ARGV[0], ARGV[1], ARGV[2])
JenkinsNitro.print_diff(diff)
